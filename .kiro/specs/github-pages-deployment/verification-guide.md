# GitHub Pages 部署验证指南

## 概述
本指南帮助您完成首次部署后的验证工作。

## 前置条件
- 所有代码已提交到本地仓库
- 有 7 个提交等待推送到 origin/main

## 验证步骤

### 1. 推送代码触发自动部署

```bash
git push origin main
```

**预期结果**:
- 代码成功推送到 GitHub
- GitHub Actions 自动触发部署工作流

### 2. 监控部署状态

访问 GitHub Actions 页面查看部署进度:
```
https://github.com/naijoug/chess/actions
```

**检查项**:
- ✅ "Deploy to GitHub Pages" 工作流已触发
- ✅ Build 任务成功完成
- ✅ Deploy 任务成功完成
- ✅ 没有错误或警告信息

**预计部署时间**: 2-5 分钟

### 3. 访问 GitHub Pages URL

部署成功后，访问应用 URL:
```
https://naijoug.github.io/chess/
```

**检查项**:
- ✅ 页面成功加载，无 404 错误
- ✅ 页面标题显示正确
- ✅ 没有控制台错误

### 4. 验证静态资源加载

打开浏览器开发者工具 (F12)，检查以下内容:

#### 4.1 样式文件
- ✅ CSS 文件正确加载
- ✅ 棋盘样式正确显示
- ✅ 按钮和控件样式正常

#### 4.2 棋子图片
验证所有棋子 SVG 图片正确加载:
- ✅ 白方棋子: 王、后、车、象、马、兵
- ✅ 黑方棋子: 王、后、车、象、马、兵
- ✅ 图片路径正确 (应该是 `/chess/assets/...`)

#### 4.3 JavaScript 文件
- ✅ 所有 JS 模块正确加载
- ✅ React 应用正常初始化
- ✅ 控制台无 404 或加载错误

### 5. 测试游戏功能

#### 5.1 游戏模式选择
- ✅ 显示"人机对战"和"玩家对战"两个选项
- ✅ 可以切换游戏模式
- ✅ 模式切换后游戏重置

#### 5.2 人机对战模式
1. 选择"人机对战"模式
2. 测试以下功能:
   - ✅ 可以移动白方棋子
   - ✅ AI 自动响应黑方移动
   - ✅ 移动规则正确执行
   - ✅ 非法移动被阻止
   - ✅ 可以选择 AI 难度 (如果有)

#### 5.3 玩家对战模式
1. 选择"玩家对战"模式
2. 测试以下功能:
   - ✅ 白方和黑方可以轮流移动
   - ✅ 当前玩家指示正确显示
   - ✅ 移动规则正确执行
   - ✅ 非法移动被阻止

#### 5.4 游戏控制
- ✅ "重新开始"按钮正常工作
- ✅ "悔棋"按钮正常工作 (如果有)
- ✅ 游戏状态正确更新

#### 5.5 特殊规则
测试国际象棋特殊规则:
- ✅ 王车易位 (Castling)
- ✅ 吃过路兵 (En Passant)
- ✅ 兵升变 (Pawn Promotion)
- ✅ 将军检测
- ✅ 将死检测

### 6. 多浏览器兼容性测试

在以下浏览器中测试应用:

#### 6.1 Chrome/Edge (Chromium)
- ✅ 应用正常加载和运行
- ✅ 所有功能正常工作
- ✅ 样式显示正确

#### 6.2 Firefox
- ✅ 应用正常加载和运行
- ✅ 所有功能正常工作
- ✅ 样式显示正确

#### 6.3 Safari (如果使用 macOS)
- ✅ 应用正常加载和运行
- ✅ 所有功能正常工作
- ✅ 样式显示正确

### 7. 响应式设计测试 (可选)

测试不同屏幕尺寸:
- ✅ 桌面端 (1920x1080)
- ✅ 平板端 (768x1024)
- ✅ 移动端 (375x667)

### 8. 性能检查 (可选)

使用浏览器开发者工具检查:
- ✅ 页面加载时间 < 3 秒
- ✅ 首次内容绘制 (FCP) < 1.5 秒
- ✅ 最大内容绘制 (LCP) < 2.5 秒
- ✅ 无内存泄漏

## 常见问题排查

### 问题 1: 页面显示 404
**原因**: Base path 配置不正确
**解决方案**: 
1. 检查 `vite.config.ts` 中的 `base` 配置
2. 确保 base 为 `/chess/` (与仓库名匹配)
3. 重新构建和部署

### 问题 2: 静态资源 404
**原因**: 资源路径不正确
**解决方案**:
1. 检查浏览器控制台中的错误 URL
2. 确认资源使用相对路径或通过 import 导入
3. 检查 `vite.config.ts` 中的 `assetsDir` 配置

### 问题 3: 部署工作流失败
**原因**: 构建错误或权限问题
**解决方案**:
1. 查看 GitHub Actions 日志
2. 本地运行 `npm run build` 检查构建错误
3. 检查 GitHub Pages 设置中的权限配置

### 问题 4: 功能在本地正常但部署后异常
**原因**: 环境差异或路径问题
**解决方案**:
1. 本地运行 `npm run build && npm run preview` 测试生产构建
2. 检查是否使用了开发环境特定的功能
3. 检查控制台错误信息

## 验证完成标准

所有以下项目都应该通过:
- ✅ 代码成功推送并触发部署
- ✅ GitHub Actions 工作流成功完成
- ✅ 应用在 GitHub Pages URL 上可访问
- ✅ 所有静态资源正确加载
- ✅ 人机对战模式功能正常
- ✅ 玩家对战模式功能正常
- ✅ 游戏控制功能正常
- ✅ 至少在 2 个不同浏览器中测试通过

## 下一步

验证完成后:
1. 在 README.md 中更新在线演示链接
2. 记录任何发现的问题
3. 如有需要，创建后续优化任务

## 参考链接

- GitHub Actions: https://github.com/naijoug/chess/actions
- GitHub Pages: https://naijoug.github.io/chess/
- 仓库设置: https://github.com/naijoug/chess/settings/pages
